#!/usr/bin/python3
import sys
import os
import math

sizes = []
if len(sys.argv) == 2:
    n = int(sys.argv[1])
    assert(n >= 3)
    sizes.append(n)
else:
    sizes = list(range(3, 22))

aH = {3: '11 / (sqrt2 ^ 7)', 4: '-251 / (sqrt2 ^ 16)', 5: '23161 / (sqrt2 ^ 29)', 6: '133988401 / (sqrt2 ^ 54)', 7: '12412280691169 / (sqrt2 ^ 87)', 8: '75555863006653472909761 / (sqrt2 ^ 152)', 9: '-15034347071300495523371427226121933183 / (sqrt2 ^ 247)', 10: '-51408163609015342607074675483845466135738782582421858486334207 / (sqrt2 ^ 410)', 11: '-3020737074222195801570819662666796128450316512028163018409803468047724698381419832180463358217727 / (sqrt2 ^ 641)', 12: '209491273914069228938927703159615696187222341014075909563660555762272712788540723338447145178084239202207812130136290161243408801398046679755101305728001 / (sqrt2 ^ 1012)', 13: '-1151074135396334387919834795721180970251375555500447368443282849418992649499280004315846178433543785616073455184573876077344869113756963755769546129473427682216472562846573417285126112567795750348322239947350172187493433189788894185682943 / (sqrt2 ^ 1575)', 14: '2203965129209035120661030567126741379588288246755263842321191277052520257239714477065027866600440842405734794788432210222370569309128599730111703958961640917508693324753367185223795358536303775007164591600969910801717290890343486851137454388553335222109931750645964706689462759661310873692578072820486233293839364152186571320390396328024660406798192485213035261953 / (sqrt2 ^ 2414)', 15: '910110454648218274446749094875777427232919850895829299540095358710935711618937399919751879444249331606342545402836495345397839409551840934195790304303432222577193580330216331627740017273276344314638733208727175582344023660597258455321591275005616258660259496894926259868297173797911714765562017294496208840669653009829145647839796189799977186076454610904323649904048914955898567761099853453999126947958945696783962775333300688352912576657158075906928352253942482290441277466997967693906531244166172941968273955857956714755611073836959113534958077527763738625 / (sqrt2 ^ 3707)', 16: '-3211036293823834468163485585218522051687270859474390135888305454290600022539539577695167362911621040121418572659029364665139571852467594960143540349664544739742307284490670953099806885599584317589352795819147694426596941687379109609957969747254406060493308961127826097430088669811340026897613387897112523777333381646161873146917106343897955220198193589690600640060143367916785626722602670569989231313094422077905499166880830278364069181638932898980947688831943075215431625332906265378982235118008719907871536227145316606149371486917984819287013390715693034173364303412821918205759858079749494319367147800920632103869111115636936788850712529417675010194893670891526644493319606998186162333090720890809887776300542166043063229384530657963071900362028648743392994495025892743227707065651278860144655532210609713732232519216236732058189901405819928625151 / (sqrt2 ^ 5644)', 17: '8841711310990064037678539299618972589090996074858897285518998234921588745456081307780568765207795376629154753088700011726567723936093992864915450721125709315942125706849070876110275370942906969616991873717495939670590434452231879466292536907899968805667273430470096792674109650361007887130965734085762375723611496910537758429606258489307528830517065581604932640270176691749346247425031384570521000721789544797272304832014744574708029631339875197588101983819702649778233577803452285169668459991865417572080487253313824371318170722414945599467877516088887106288967673748934316198518602744989057043398948301675157399681726896339441312964644489106586412373279475056404388667387054221416723874215692906546017144617499648826516445128357099340097089260358796788515228305797015630248586859713693069138094974033301496378040438295825736813494821078464850795537737882275090909352406333294722488997533264488928341215391321563307601019303027648142801090971428122332389397969953892349707206272331036628095189926073417501093648165685277149589563685177693171470752017668876378889277424823309982719506520107910159546005371661776654687187015782859153277029401644563674998980671450775264558474779038183528984369221646289241560219634337496864600686736488879439742993487198515030112206835225196509459087361 / (sqrt2 ^ 8537)', 18: '8594123736496313496215243585513753866173917756339138023242790993799143077468908747025676898157322660888209239628429705106158772618391485761867307575055881879887007843236153309679259176850082149811120608942930126772455965178613617943790824768262500428179285107292337478589653095593748369320129161143012202644334659381365611965647839328047570404253207360335557075848763749017606372831677458823475533763811224282408798060306377811109943802999623367761681518981641615010215733139704992296204049695664561253919175202719062947924133364015726074621611632882885153211270959465601350475749048749025494235778183330343238449681520877982373048787186811280904834888218301137477216214291569848643865196268725156719908820332647479927803578620808762350128414292896941674603141149625653871180627317886290890307546956105400576394365917021941595233873124856775471375591568834140559356808778800775688663884181814891493495041661687064243888301895600080012877638556451015475230467142116289390326435518322591915795802958441101216962712175190783800791462012821977417342707005963432586671129802894702592607206346065577006819256620129839056832604350309114832013390726030924088795942274574122062227044335070493279751579954005402264613555156737162790426307245151404452440575270926927264972055571017851222159522638135768237322075162630033935569882769639770528918264288380636030071450210203246858438293524809843209134644603546799999033400861314269539257247430375223740874957804704480335234134349373784582930737158688097350322164056855116501334422768267808145522624756684369813529263997799866859379358626542404882147256733874623484436394518714779370194030779289041225669745864859875578541878679781071517860533368652319440643757224546596507929799574476501647995620244569258423574370336222938412403354704080061524362576731385354683669589802394457889627158392259455309318840693302032151398968500499359769926970137829184692273537701267227400807330219857253719327405170688001 / (sqrt2 ^ 12882)', 19: '403109498079040165301694980260025327247306960788987809714430312186391095503999909917344308639449413994495539215414862644992508792605419396778371117242355614994587247100253668721126131127072116439176349232570532388325881307955516245983341979374049551575967918733169501978704298023839404225825906885491083620510597802936765241720227931512126278095475377333915836183938513901645718223684244325626036607107263176767784434818146833239910262150815074463718747179736555307305099328581896103131513632541823182759627694097479766417835147083062213023033477129232887309786347442702009316771489625968177089270885289976187664692512147816662029228817902856809067989152851662226734584396920692869482470533875163824454483432108801211274155831650015751180765802485347390086295094204521077056507718195702596417910683250594155312717049997333434266399922809834040718412145296558545728189442238792062577123845162335082457677792499745868968459061203809809144970361023718939420027728609992064693879453058929618770724457702268678905859059220853864024169182001691756076818965901956696972298077675222532823416038503381188223567526768993998879512736546834075208061675451718461178129700127230908344154894552882342057954012900760579857125169078797739106980770187336873363538041566138137195111685667595778386153542392360936541734396178286080016429173591793414029503177832280603574759552233057941492524677167861233958920656881437771894068525525515027956273119615071735644659013935055716763247365898243553119315469842373239854435872098151440542827053108103162296424321215385819116947097323476966934615123489393634794705402542805491491813129241886573434606649109554822471635126983662876475180088434459203392100002377400547822980556909147468543543544150521399288806900120498952185011956816898953971625115706378538441567023219932064500014481633948925681733923249439033325763964150969861869964426976212236758742751341358554356849868673496600203547761755166789380368298283112221003270473187134485348627012940716917482832246495787241380264225003648851810419697372206655658702666488780940655791795478081750946939446558863624221525086267826833271012949325022119214870980216674442160907389324894964231483096296210111444265450961132226424572266659077659968869568289313966346129774822827642429179959480462674844066573045249126739352409155876017123267923774755922938616136336152759687732237306715019200913850676843235270924924108538766664030745914276489503376483829990120966580674584255083112861418124180628704004342565340467423299142428240473597779101074220275048655760611289915722309374879963354651458201591929832439361275609291468549607011399929034248357958395063623149946722053099203216107036508067831412336711405418587933013019932396539754574368768722141340511517890885588467523378728322333090620212157836677181073338395534398351217341882822995184900377699106928885251412765150466095084011971830064143783191810357341953339311807615554206379200610305 / (sqrt2 ^ 19331)', 20: '3283954664611874005446162933803219171008150633050418240228538139697181857243525205409712609406421514098400944511471082839361954215120812468810336101791158317230141602009906035843403947200469582928613489898789579257553359572898041286044760468293036089001702895793427729980670404149119705702737505797010113667177266705884519822198251319532933487963972514586839138757701762159099241976168857864599990162450622366797353964241139463192668073659005216480497381152800979261282863401281151855073098769082024569448367308627917336023201555013962269865338512938925886998146284305016390061375521249837445331964020255437015867067426838176782941208127140396412142741449944060801939276423986743735486429436003961799401292084746639669688403945591775651868208488068009523079006794879762354195035498195759168579534723766977151819352334414853958439247759153581891014316684990626536001761672676410610706243085040598298179050293621108040568110988008651675683472763684654912468487456289221223409970730411611629296636205189094396836087381782248601629377329465721594469421132754269660804035012421930014819481589684401734072690615592770831471813750004178837343141228453039498440146345703358216801293371199878450363802397346451932528339189338711683377367721060902049367553508715591096098373353138117503633201574539026887274474346660912179135940338976851974070988199429239847349740177661202781801883506529516938931384452384741003413561488502205603184567203680981581951503419744719376659729989706612273665466858777833351020951896236257650114629644958700915769129586692144374708854922471513998104623018871116941908805997992727117768127294580645814928768469144164422200516267264224461528473496616087362116407493245365282983466227243003878533297282338755134391488212832323512611747657479436652469172835279788510023177721028828088283554221255507087835852035229971362846752012319095768478673498981407546227461875203376031900514928692188639762678213658501610474784854597207059823076402940142460123728802198822753842312255855393128472497072390731580154111052446232360096765563125459996734706201524851588672407634976105661405056651921933765120050714567444831412730193968888557732142076509494405925817418677659920981904970648340666791034408866596117957728953960529097306196081801421957541938432200224754795488958810501987540860685332948884029899720435668191150002092822251500703632814445791368944782296395808186979197454542111917759020695329463678055767186908053203572026499048723841868264314553168444420260828779784244193960497550417490537640725819320076490490163471385706160053563779894030425964682685626833379518879055258892749535294794899537826674839643641873206674845555753122090926254481482653331467974339833337160362585298483809539810929025632615102772013519916849901544548547880364687118311388469942504674937418681767337444516649083400554789384410478055388209615061957544919422409925471803476393129454585068260137170216702935175460728725725597094244343875433823242211421703309529837351717989264968313466950766764040900777554946025034217791459695575184330530203114265881779779822658530287754365436516070605373660718160783731024104267485935222520677287941112140634485368013628998952542925183810314501610633142415009273586083808901219833366238979214035130912707478134388169183247361704750260850752657479249822519435800480836829632151962192197318794782855246249494342772537370135620909839092151415055320854541010118347353206726542011110567501008969217202202667460446364760845499585766416225125115537539994802594386115383049946026824129083989579424324259150341279493363170275791945042349528045665976078783001648301606437146127680636596951811796358328697336432710107860384428359983152416535213448851000615906739368814429660800931117512405951772831540525988201303224408116818212574995588090365658578991090702480796524404165578301199040223101784849781448545347168600588168092867917818814181178765645928276372254657451121283971248572621018810535998252777541058683282846203514742807950013910966968232999630750284220465933650772887277443810563372353134036465044111002956796048262760908718544615379825557121645702783792884632895577990950181266251645263789680041006353156127356207309024101312147842861267851173217153893193296142606708402471411002310365844199262342568099397420520274845997896573404479343408990441553737930498793350127991751025895563255955264552878549691606225494911960703245381705400321 / (sqrt2 ^ 28964)', 21: '-205027103972076119256066904265417431498497029434189603724695982759029764104947746085582781250860519274939626116640481144696104497306308767800498200607735778847486914753437029678091827748438731893991378603254165819206952525723569022999508472896614537444014187742724089658398080745897376607568193516927085279560240731732804606338908705890825083803179805243557155549334249704408664203450041449825819712807472650792796377472446498306067512327292444012582565982199746329225237135725993871039651217331478475128156671790561824780701361830692432178433301285550884987752904277739431666315184432885854460433994378015856667428860040087882751011118442780404494383484028500966619080942660618821952249252217914795240207921749356650616363660241169136452391085347077307856179475088877696117375535886701549480385663303064709784978080487489287631162762444763617936603684485113742180946571152718169949481862107358871533530310825404331636113836010514055340937731416686625760053528558769058197709675805691151001299737924061745828642990239193255083035177065895978924311679793110977833012363144865967002114361212598947132955574738309762701791571743655027879125335843695885864123437716374588511875527966722452817259203114011735871168032570010357562095278458383328369849499205281461186307211984787265953859963090434285272006455468302461278401628108769157633345303529268610130512445987877942020310991509956322878790477715180907084421928095343273415630182637659048514704977938503454171700813732926324350454151554117212055127340671349418886761997307597622722173678658844220052816313283603219524618842363703704860595950402623240243452443026222368089316830176914168508799498354775127244352305882661851787712612473299607786017356829359521755039679493824552259006884019875582863148508707503830960584382259538340265744960477529247832257153288397623455767021725334608603147728293444645830667518524365039943979140589460005217829117958333433203302327026490746177711568409534947697479767191417251764062542959427218099730204421273850952213660346602084781003693134307338103364504348963083016961543742392206307809660914456987892953637136618403140765451814418264744002940820159572753012413839887134520102968166989276172858985459839913568302190847127986857020698295976360806656375062949437180761199083300489422962630774027013832291972489096107489200390999703749662572718928456273781433021440716132518188315312019175325629303320665733243755503926327786750711162209092816714261070941455829878951021454665239444293953569226224048024099761992111216111403074250708584252848590238704420934485945314336362262371720652794894464092570135806042153866565618905386551920215842364466571858037331030504915598108345962538594607563738563270072246082468451368788736851675882134285317720327268377251196581827805376528352122760619582542258983098251704336707200283673037853747081624399194695127459302786728285275146010223395833536450790453658983213867288531922145080795951619438197434503295855987419918894440849497735799318713893903256434768231296117145801352834506756586908575944495337115526471709161054809007981560981743524399536720999848266370053401785985911477933211288739709306435501922949804863099975950952749306239922856192490110063701442960011547255571164529952723035017025985772214217258435846289393164012740023540032352983679122602293122560173273744865063807738881970217202912219054692030911864145091180213557162014841031718939366038963769279727972888916918089720056308012251226411432666312324144704535389973916925819434238909642647195059045566063301407599915026376879909150910561180265891863648864842006773943414415328195371714149649061782684528352506338452678188888078977279783763901381343169328088233363052685216705284587069829265679039342394333111777846187609239241392217224824450042414264092823653274966353359028359739312690016881053909956591650885543493439807235018233583250418756007846639219352724307171568594206292854868116012443480167146845057436721988439776170444449524745786421495835852030581412663326681082801439887810923540686772770713907453099599883837439548541979659396373446043605533799201083019856200237479949251555182009741981496261774054135213302404264667933176490363886552164326199678573619432233982818232087570741272715506895662959851216623210346847203108455784265129501446763025180558847670183020401176264863711118433963197320995297988186007827747781330815711068361607922816251882062040830862780027325600277934322803474585807265888303514138718141300774425852327301148122340168357088694342507182931490528290605143127354327078627822585921415027996652422387853704903277701585188316803728930612008040841964387042046167240523388633344861622996318920195995442216463627189340685195314743341809401341597228074560994023979159699697666348965170532641652398483705930491736127045589845908597835393644849787088331700586944401475200125071900866621126261111802974142024247178182240450132242043484895462088310624234673444786240222410769436227741317565398907168287458991340384100566469249909564600170789908570251994230111296086989772826924586998485000614011985320478512313962087169221629910194082082031377814505562738629677800804886872139906238449653669176966437875531829627135597641070612559891144486787375299849347775842192010695970530805397503374027354895025504235859536897506074837419183442953876463863276008123714904939762144862363253823237778419842392203020400473018675934168818599500470996005070468763809541637531191596835656050151507408947795281156023614344502971950921837437320357421525337245279892494845816175622742880383842157511305772845416130721412250743643453233129272653589766275089836115405972207620999674931296327304448171153949010601677513964388911615933960892138834550318298276298610081891059655254695825370746479376039133457278948795772644181774025563545554933018585542090067244533570896384820966660278842673688148072324013214526518173980937912649594794220157771112488816191257556871791027096637776823511643657647157750168588658299246820560434785323577133365765186651675269907124916297099341522180944437619609182429068178642994394146257422636671355898389184074893569496731618037315177445276028180195950543162318697198165821556794685555100206713367450540398706944689735136972864730221468922173377130599423706526521548786918673013151368816312744369513492706471108559110643986924356873427249815133971922022792124746241556834750213619643960423959612153246205217777892106544556010221468643795884444507168238762077691639360528070185913837444470426807851558955163898020557532585191617912525184914481741067063198682941564291440417955980509183 / (sqrt2 ^ 43227)'}
aL = {3: '-1 / (sqrt2 ^ 7)', 4: '13 / (sqrt2 ^ 16)', 5: '-119 / (sqrt2 ^ 29)', 6: '-988079 / (sqrt2 ^ 54)', 7: '73054448161 / (sqrt2 ^ 87)', 8: '34433006489313897025 / (sqrt2 ^ 152)', 9: '-15629794375924256137689018495406207 / (sqrt2 ^ 247)', 10: '37317028493000746132194989664756306857260930471704364830465 / (sqrt2 ^ 410)', 11: '-118539524694868417372560014251163965732742125644187826278828466195957535600046592270101154303-118539524694868417372560014251163965732742125644187826278828466195957535600046592270101154303 / (sqrt2 ^ 641)', 12: '-24202565025804503446880919280495496962775723756474832273553510459075370332791703697528494514667628460606935348513162892614621202977427470434276838399 / (sqrt2 ^ 1012)', 13: '116727447598390764678665817233767345744563180333380080300857832533053441670776296647361588764296697594744011638618784159473730122050585400885348292680116598024969032335978981329308680256040955280628423431701080000649038858505284196353 / (sqrt2 ^ 1575)', 14: '8055950969425871854988082795947895330779485676626032290798121656100833897983551251801751126335608881400502956825308337022985385584882278326606750828140423456986978551473386237663956726996064464695407192108442887881777403078090445463546445803443850980460235849014921135646899176759352620618013366018522381977070349981251432907288431902041656460891466170077185 / (sqrt2 ^ 2414)', 15: '-18246494522357611129041529551237141780010821099176728862072158704164590132493833901794254962494510911367103080845371351496137320389957673930214427861522019629962172856908784888063598151453600659723986987779877393015225692562339615926864644941123391535274097477892262738612585247849966777670946836043417847304474927629807912322232149886655330063678851610415187478355721141563819853676862921062478001077120559443859924234704928814927296376741691654148773869254825602798122633901806860829457824062720155584130374453327559699328173612281971814591717829730303 / (sqrt2 ^ 3707)', 16: '42978544614474211265853516903017842057072080509319331510163923773972351620217283936648876851839580879700412216522111873657830881956469084998901178216178766992444744198138411354037572330692543713156934516055806207129185528865856532965015708760233897119052234244667919660306149986210434654654820323497224702506463228267893327707166083255049943075421916012495200477099158166150237223653814843443867704909244224286476033517876372573521382996808297070502228630868627000438172461562822826375561755512337219472797146055549559161968960092231906497261308500228151907138722428513784378687740952082023591846003119789356107789133539823773905296745319957282560801089734156472820020750105749885961369693511394757509487690460506587587540346944460780035994611102982562494437662990985308349471367801416239394884010729513819751211887627546841773570836386748809217 / (sqrt2 ^ 5644)', 17: '-21026904180359984314901710567065941478335471560321240715157348137926137645835633287346633831245599708124100170990596096448865406080689463017757436820377889395465902981728049194241604505733761362715228432182173870867327967344760394774190659781092942917847446731736443963023787762460464289306333822806982054216909193158351945411982381514273469876303536538392973113235018590693635290284188886083840759062827899777875316165953557739613754236367159960617012111212920357457514805406367280869398118983411419477530398472072740051615469198492839584552296069126600229562937938303631297016510207615525585660818422761422804168526908407885737358095457222566571753065157710468332733161640189708339588048447486123232778040706677270787239179471379150453166770675076854373017469063175693163733226903048853443886758570051403344474954925421968194832361558626826706981034070103193540697056160534229724995680355544853341400256182129277383214513164878642020682431217435774955137182144402048922840979724520442413792207486277526148453274433034249400312388424259453783215729245366487753248850557962773385625788965187650073150161925873062340836057691704707914882590435491088074170132493871029766456385768939131437643185516551981344007203787412612199294084847040111145039764091119478848568667390081312194559 / (sqrt2 ^ 8537)', 18: '-24679598937459762874952265886380204142821615491130974843338027979139574717460781811809261321675968148095598424572358869694366699077457066359006839073487823345100591314541349474191800112362505563152480288168996416272325008704542149039715353787484550286796602458103900784203760451352377450401318225068100284248098658518583269136310257288225769012287618859031571829948002012499791869017952512784656324363588215172321461233893736470103679402475745535970990426348608726965558409779230970641392909728169731600699080608172632662918450333919570709067892950913949283403860974598787513667135049320751875974948989393785703430247861175464431506160272063720449574127130380202881955141000777020875523884974779230198825342932734776470643475459583777150958313241569462784707521442120796419809111996340813960851859996835594226777008422180879266337488970870077249772844147176496193676097389698516188359113252450546868903410530502087519788630526560443201735660350885290581819976198279306709105375418796812913498653653101454949746256169773926895499148391520393877831307153609641928952790973843152544279488520440548503010647802997557546780937676436295842059800282631323593882438484730555468391400787220957301381421230345997528023512025504922643229438968726793415557560723401021892480437424028930305053793085112418240799344136191042963598089882568272778622170119842896665747604257761436449375158698412022125735330056168677429411885671564072625968917070077047021933888428550930355859209478865284092979924441142668332308723232855399597327375931729737981370278922209600734953446961171447391225798866248861458924196935674068221792564509349391892801352482812789232652760566742472721149870248027707386796933503250446971661444853014321555150176809588839909327507138451785624236505714087169250306059054263809843065239707506422279044710889049931372917628938608788334090257288975731300371556770805502970884715322857296020933091622243324804085564617142405292970147839 / (sqrt2 ^ 12882)', 19: '290380126301711162876642447035022729726711853676465344169054333176000501648545486256396527911764145459296266665190718667165925858555835219842213699837662019418961020708049634709212835442293934520012874652906296072043312214344051005464123608063456072135170602559579704113262903732637237304898129321991795476062923408680354065894191080670387856866087759447715250794223937854871952907714122393942730807170106036779691369600049532343257684802350086473374183768561185098753252817396319366060701914602936649152891491947380145914937653143558410271786004299108533975547471176558242414585935639617166646340564514647244332167937316736722456693586395829857078898229457284630706274652237292727134143286100345883902876611920834331919746650524563339396816700378111497511085312535451401286203163525726377893797616315022505099853691045503574820764478516946230453691820728722094008279362732467242605480188417098788011942324569392969852219758037937883009527840386854418149677567167181812617778511020071022840887605893681030068214960446651117685027441441743932177931385588076087467574968463711461485381237107253637538281056824816100397540178171788953273247820426001056863659643026897537361090936165576370598874596086564996011915476589816336831864871562508274126992321874888702280282140984121377436355352388953295509091155009447682622502863540133303836389930040591845978097039095072503996849651806184853130499145120110919337459063453772474845343265777035826393246066708263397813669321172196854247186069697465453337436767098593942914844732588580944884324319954147239853945385840242683041131869155698840150060934713067778644028208382831201336661704995049622953388282892232749329824126606702521355813211774006440629817312600503672600206158084657438701454670902937613986683988076096066466349491707779465464427303531434037930030986680291420536299016104118046122681148922999648256162495776033272185647373919394457685196726494530896466323765230933918274175800893368207192273112469276810748075445771761015124739440903412602946284107045828347700297330995887797993851977885229262750997411711084148741137781678029115756502814958646568787025239703752874755436322728099664859137902762708871815502590212038944342598094218135661460639291481142252876625493513547307979331456365501732774748421328914534588048976548838767358650033492835622201266289218512372269227169346299500552582275891087557450125773030501753000923292679050294795041028955209757620057185605047813860990581022739011079700691083292254238377275456430436880972715806861462918827598338229596030296160893811873700409055254422450475667906898848939936437242232354627202917414874589216782733463651490602249275163037240426528480237872027156654744575645827849010412072473238447059109360125116765807029504257664154954609447047804022702976854955691687764586078881681020931500276601722708267277911768372324238681377550142273755168002824304758284930479923845687824280569294203392989724673 / (sqrt2 ^ 19331)', 20: '-1580998815690915381885854013795605163989862422144072627206840568933849312347852961992676656728992035463173738131876766965089805150931166408822799909000911307817779550048602947608425748763344873369029332494815766725464139109332094070622121101931504013056256186385269164793191629926530629661208236164729406519445263198914841501398805905862293279188222795958251159038753647825139439291813541628340522221647640371542912210111614892414495051469154588921719844892403775549038679391939929685231482024930448782036206678864924589663804437824595201001844371298761506377478051992621194846835556014448288461483313074218716601402131442170630018719337569568902707735687392950996165987778589208538903397278065279693837922776358002999763993240871569286500087550369980320771116351951434048013570827883677046929590418364701007043993682094040000048710978093244875129575378968525642928873362551672190974226244806809113085635278862043419429806758542245740936956122191454979217888447357263429273765293010190049622208518420501087053492704361521291356373023649438650074367627430049587112343632486403070710755556712350327113042187953903354997783254442026621960841908657705190934783088671020944698992761707482121392998246485486854468347364021295197370287530706656455552199030671263561079642447533177515432708022804430906713838871755392447599897998318293774291687385347269173842427016753652089606748527891710024724698149856666603667303669423679934922408044503133850863966528508522940811265346653921991608018022997648774395107678206288757163587567919448336027491313442562859333815731545961160717934575899602310486810369039363348713615381183925894791398677803862116746458250178658764564073947410340904923530475036332900157775812281324354814582237338166368502306787931440191419372308546746365906028950534166764613028668594976316478196800474188163609706658689139766050477270346351234379211142564099078776683667940021515005796014106031338043024077024841695320970276669605616934984160607555147211364799607062621435214226388950389981447126601956476254408703988312267557959712398427468447869886431405449023150152050030848187996152791412177719716006901105403089748042110456913254949803470942757033637389183460473949022565785195950737025681464540646931993561486239890420909517000309568804948444815874789440884363029388599165395174055318724106019156641464433040427958299956560703992002228643828602079840631688773122922128938938672063611466968373411868966469552624107557881930605004553924766336673299722104553295367612318686048096776623285036580444466714084855227281231163176124941207398575899769998045380033685533597974068250837828603798473133408464419436401673421461361023051217727666910049966458571017111713231235693472426885883060193835526439627928866327508157370802880046500012466717574980563621924891494693846243159974474777715075374516386380609741032606779593434832328446582841625063371594015168070431615771367405066519305386071931969533451348127770482640064384842755279084503093139191116453893407548196729708304915526311329689320020300637032705510002453773970750288707985981596456337635132375967967432201653670616064854732012327896285385016155245915251880673052220888565587843509270950828826581320045740118280442059193594542811724857223958304116523143487348017824502916107942964124136855395444148053796654435853405089871758246686998850110426218588077150494453001660429494142691840418622160488888450039896287400044665729895406428933135106255072340022980303840867868872116093981788668259926637035672894271645133920138047411026753498677859812071364363390140690116293354475011531414277213889526711791261657047978896694109092544479346823370871030258910462902939331801356200822943055532530344356134337510497050309254554536424485731394536884133862578005429606864314002072845992516792029516666993347535139569013471664663030674637700926298304919078269761993175749555957810182779587437762897309026871735026654179344439504528431187548493199974262533373996307256426710130416310933269573649574412638314115843318289784022118320650269301743348578733476975630342908003258785240538209214824543613077939486619405593069141645300519305390111196930736966674426288762866659220143193453676893391105813114639326333068639140961382321374789587865832539041199643917200804407125288867108900305083621428450924702582288279841292230654924268292638345623874999785111191071782712166533573862389329914055983469644480511 / (sqrt2 ^ 28964)', 21: '23865940090962186825679865225420542191231458445169287721903759908543170559726083937149924899805960611282182797787175985929415798539801761270971056732266631490512866161110773890297798627535610338457149560396220481885822017267345745172776319453705845258778202801905770531215693542621950202414815505813894421891024330955790868810585244233781568480731189977306155527944993705248287953087633412148826472600983073643699131685722829719547524486483401536559092308975140826075715633393047898986587428800829315686222661167290369173621985097360356529013274687817295031581367822669108772559100307450086928624675458724903986075103474548971448242901993411679209029595054702667781328064879689624471478595279205130342787478397197478115182082320832005560756130981073456887620555096486537370888522122922886492620981144670337116699722809423446268428161451042800961345163780334085318552513932405668149492106747839873188471188823121675742968853828589342018411136643302267216803026027424519487115568057685892351435041325506764193309399445293743631325773599905293454069275057969920774001006090054928556464472932662140588893760107457020715271329310948026310237630471614752115394516953049389724777724013445099736055483004179071022984654891547505690693634983612994785902767898022327809864165278766396368803247541201150414516928544901695907700062977913205344681063052421634208117682518943977338654586501664902286558889327942403379002474539190737244156102485606972946379338806218194350561984972546139356685633949094434089617229437957493410859055421001718475049227069767850166435436348348868806918625747196812126625548826131334275630838659385008526515662232651813117981705175984611303244120901659949229529654753864861643752003793080770575084076546335127638800919046672385853263904124014147748060960092809920110741162540734766075902831756218628128763195486872873739251711103071177365073887190241222430661597108286312915599240212683158045741751789584633098968111355761722587076032552577982386038226460842922149423778444193588436595828239183889625355323083886414583361242654815903909574227608415087105931484240365544110916160373914029017485042249131734063770495726368391806764380272969435001359471940263251758761727427861891095945562666175703057950722325712632009352117393498322103036239732620148316225258251687923661361735880180322162481012063134659690576162367367189653958699225170774982856937927396911143499512656977885250987238982496333291686004066193681596746294684920141845754250382335678114669065551950311625437846480042048784286047694793085814064554515918696884097963659027385072216604574204435848941181996442607760101980989354356170572366317549521004045376872613891864791682359706104847347027786172613172496699226601315493947608264259669199825353174859466470324970453850981711419707245866208209656844089544869266709935504704128443744612019721029071561048371524169339206826582707130507179846994595274209092114392537683960887575066038461475019398620217444250385120058121613024159220923545838845267868423659653576102112401579099479280122198393339960366300213414281635835861546991058549643989283005394129437408756757194116574429527650678174213440920914618082327693580980584602290167160025546258574383823815224880120079306432454855886741329992191347638501606996749613748336147109679898600230356572054147185978920697171948319913463404020315271410294710110704621868875392660557567974739892403856028654819009890704821071293709238127598139951135375711617422029367438428790610884964125996183955739313121439380164658287682756460664608723462403662929818369839286172736543794728149683357669188979082567329344095660423280359849274073413706683116996828915413450525025396562246147938638510659202527039006808950030339864006709611517706080388833365442282157037177883857381433612944192028019598288557334686214560073619640309151949940068455888177855400352465014876482186582590221452141552978684663175983245464744781589353849254866332660689179182680979399788706505538012617714371427327126658243786856678636603286955933343642486199764396700261578881260679421254682583438840541013665554340479842363010554616851603578718022836146935868561326698637601862151038954380163560604352967151291358799141582104050951018916609343242624751634269981294557582412444124265439891324644012679806971654994252467738720002949968159403551388420275327097920797292293177793738375242992948052099379795682226744804784064498313742760647074730777894880126347089806037255643201581785345989505781546498602401597191160584211100796166549347116434416747216037166586525677002120713977694656070369646735148304910037983574152580884775015361267503829804537740138784558387061543099096273911450232190124310842765528573368177214454068076189460564552947648432679887049478186736161436333487224427721445458781306139767007757896827245753767890019948317515225221166478249854041358299172641804074612272872778948191963722371905844359384955114570948448312245746305435310601139739449315295751816683915400669753419839643625081474761887997094952962963597380184669021982489363547251760958827633772333397674171950673061911119955819722889205569743160255008617407497631310086656489644715518360827283467356880719756503866335082293177457653968712215991661613759860188245411304714104715636301591465625771780964973422826364318313349575904786028422571920019376259569963194790413205417879716832835420596218443419355604982167258560419524171616150461671400169418448446076236419529026631748114543543194075019186454810809948878567148613060552199403854041040547899949923179373238706681353201731967931298966728521903968499114716411030743501635018793402931925856324813555026275153663621188547080616850641491784969854411578904026514712876148838918423141142987857908673850422272331828832094188217946884618891760405078325261319853049737619263005916482505755899659708869601433397528144203458262125713462134814603830812756655995209950555064174920550947153469016559233314943201276659191062539693301643173575775468928475526383833635652185735969134329736344204494488961424433326391279294375283669334511163769186627246204142180115966440672264537845604255335690459463585276165692137382911615299183306805260163999042854500067152005306046899704684648772883325703543923588107762679686145533256286280484127766693137459395266119594289025818490744362551136079163175172774499900784004969433231881502634139284347758131552361195432128472957008870132416158153009620901072855085501419547197819640060539207251832827838722563389156947985469394819754503151684611314857605195839866151599792625972387126187622218761602757037207875348856833 / (sqrt2 ^ 43227)'}

for n in sizes:
    q = 2 * n - 1
    n_str = str(n).zfill(2)
    if not os.path.exists(n_str):
        os.makedirs(n_str)
    ###########################################################################
    with open(n_str + '/pre.hsl', 'w') as file:
        file.write('Extended Dirac\n')
        file.write("{|" + '0' * q + ">}\n")
    ###########################################################################
    # with open(n_str + "/pre.lsta", "w") as file:
    #     file.write('Constants\n')
    #     file.write('c0 := 0\n')
    #     file.write('c1 := 1\n')
    #     file.write('Root States 0\n')
    #     file.write('Transitions\n')
    #     file.write(f"[{1},1]({2}, {1}) -> {0}\n")
    #     for level in range(2, q+1):
    #         file.write(f"[{level},1]({2*level - 1}, {2*level - 1}) -> {2*level - 3}\n")
    #         file.write(f"[{level},1]({2*level}, {2*level - 1}) -> {2*level - 2}\n")
    #     file.write(f"[c0,1] -> {2*q-1}\n")
    #     file.write(f"[c1,1] -> {2*q}\n")
    ###########################################################################
    with open(n_str + '/circuit.qasm', 'w') as file:
        w = [0] + list(range(1, 2*n-2, 2)) # 0, 1, 3, 5, ..., 2n-3
        a = ['nan'] + list(range(2, 2*n-3, 2)) # 2, 4, 6, ..., 2n-4
        t = w[-1] + 1 # 2n-2
        ###########################################################
        file.write('OPENQASM 2.0;\n')
        file.write('include "qelib1.inc";\n')
        file.write(f'qreg qubits[{q}];\n')
        file.write(f'x qubits[{t}];\n\n')
        for i in w:
            file.write(f'h qubits[{i}];\n')
        file.write(f'h qubits[{t}];\n\n')
        for _ in range(math.floor(math.pi / (4 * math.asin(1 / pow(2, n/2))))):
            for i in range(0, n, 2):
                file.write(f'x qubits[{w[i]}];\n')
            myList = [f'ccx qubits[{w[0]}], qubits[{w[1]}], qubits[{a[1]}];\n']
            for i in range(2, n-1): # 2 <= i <= n-2
                myList.append(f'ccx qubits[{a[i-1]}], qubits[{w[i]}], qubits[{a[i]}];\n')
            for line in myList:
                file.write(line)
            file.write(f'cz qubits[{a[n-2]}], qubits[{w[n-1]}];\n')
            for line in reversed(myList):
                file.write(line)
            for i in range(0, n, 2):
                file.write(f'x qubits[{w[i]}];\n')
            ###################################
            for i in range(n):
                file.write(f'h qubits[{w[i]}];\n')
            for i in range(n):
                file.write(f'x qubits[{w[i]}];\n')
            for line in myList:
                file.write(line)
            file.write(f'cz qubits[{a[n-2]}], qubits[{w[n-1]}];\n')
            for line in reversed(myList):
                file.write(line)
            for i in range(n):
                file.write(f'x qubits[{w[i]}];\n')
            for i in range(n):
                file.write(f'h qubits[{w[i]}];\n')
            file.write(f'x qubits[{t}];\n\n')
        file.write(f'h qubits[{t}];\n')
    ###########################################################################
    if n <= 2: continue
    ###########################################################################
    # with open(n_str + '/post.lsta', 'w') as file:
    #     file.write('Predicates\n')
    #     file.write('pL := (and (< (* $R $R) 0.1) (= $I 0))\n')
    #     file.write('p0 := (and (= $R 0) (= $I 0))\n')
    #     file.write('pH := (and (> (* $R $R) 0.9) (= $I 0))\n')
    #     file.write('Root States 0\n')
    #     file.write('Transitions\n')
    #     file.write('[1,1](2, 1) -> 0\n')
    #     file.write('[2,1](3, 3) -> 1\n')
    #     file.write('[2,1](3, 4) -> 2\n')
    #     file.write('[3,1](6, 5) -> 3\n')
    #     file.write('[3,1](7, 5) -> 4\n')
    #     for i in range(4, 2*n-1, 2): # maximum 2n-2
    #         file.write(f'[{i  },1]({3*(i-4)+ 8}, {3*(i-4)+ 8}) -> {3*(i-4)+ 5}\n')
    #         file.write(f'[{i  },1]({3*(i-4)+ 9}, {3*(i-4)+ 9}) -> {3*(i-4)+ 6}\n')
    #         if (i // 2) % 2:
    #             file.write(f'[{i},1]({3*(i-4)+9}, {3*(i-4)+10}) -> {3*(i-4)+ 7}\n')
    #         else:
    #             file.write(f'[{i},1]({3*(i-4)+10}, {3*(i-4)+9}) -> {3*(i-4)+ 7}\n')
    #         file.write(f'[{i+1},1]({3*(i-4)+11}, {3*(i-4)+11}) -> {3*(i-4)+ 8}\n')
    #         file.write(f'[{i+1},1]({3*(i-4)+12}, {3*(i-4)+11}) -> {3*(i-4)+ 9}\n')
    #         file.write(f'[{i+1},1]({3*(i-4)+13}, {3*(i-4)+11}) -> {3*(i-4)+10}\n')
    #     file.write(f'[{2*n-1+1},1]({3*(2*n-1-4)+11}, {3*(2*n-1-4)+11}) -> {3*(2*n-1-4)+ 8}\n')
    #     file.write(f'[{2*n-1+1},1]({3*(2*n-1-4)+11}, {3*(2*n-1-4)+12}) -> {3*(2*n-1-4)+ 9}\n')
    #     file.write(f'[{2*n-1+1},1]({3*(2*n-1-4)+11}, {3*(2*n-1-4)+13}) -> {3*(2*n-1-4)+10}\n')
    #     file.write(f'[p0,1] -> {3*(2*n-1-4)+11}\n')
    #     file.write(f'[pL,1] -> {3*(2*n-1-4)+12}\n')
    #     file.write(f'[pH,1] -> {3*(2*n-1-4)+13}')
    ###########################################################################
    with open(n_str + '/post.hsl', 'w') as file:
        file.write('Predicates\n')
        file.write('pL := (and (< (* $R $R) 0.1) (= $I 0))\n')
        file.write('pH := (and (> (* $R $R) 0.9) (= $I 0))\n')
        file.write('Extended Dirac\n')
        file.write(f"{{pH |0> + pL |1>}} ⊗ ({{pL |0> + pH |1>}} ⊗ {{|0>}} ⊗ {{pH |0> + pL |1>}} ⊗ {{|0>}}) ^ {(n-2)//2}" + (" ⊗ {pL |0> + pH |1>} ⊗ {|0>} ⊗ {pH |0> + pL |1>} " if (n-1) % 2 == 0 else " ⊗ {pL |0> + pH |1>}") + " ⊗ {|1>}\n")
        file.write('where\n')
        file.write('pH ⊗ pH = pH\n')
        file.write('pH ⊗ pL = pL\n')
        file.write('pL ⊗ pH = pL\n')
        file.write('pL ⊗ pL = pL\n')
    ###########################################################################

# cp -rl {03,16,18,20} ../../CAV23/GroverSym/